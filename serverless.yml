service: calculator
frameworkVersion: '2'

provider:
  name: aws
  runtime: nodejs14.x
  environment:
    CUSTOM_ENVIRONMENT_VARIABLE: ${self:service}-env-${sls:stage}
    NODE_ENV: dev

package:
  exclude:
    - .git/**
    - coverage/**
    - src/**
    - node_modules/@types/**
    - build/**/*.js.map
    - build/test/**
    - tsconfig.json
    - .env
    - .gitignore
    - .npmignore
    - event.json
    - README.md

functions:
  add:
    handler: src/functions/add/handler.add
    events:
      - http:
          path: add
          method: post
          cors: true
  divide:
    handler: src/functions/divide/handler.divide
    events:
      - http:
          path: divide
          method: post
          cors: true
  multiply:
    handler: src/functions/multiply/handler.multiply
    events:
      - http:
          path: multiply
          method: post
          cors: true
  subtract:
    handler: src/functions/subtract/handler.subtract
    events:
      - http:
          path: subtract
          method: post
          cors: true
          
plugins:
  - serverless-offline
  - serverless-plugin-typescript 